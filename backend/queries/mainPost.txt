SELECT DISTINCT Ограждения.КодОгр, Ограждения.маркировка, Ограждения.изготовитель, ОгрДок.ИмяФ, ОгрДок.Тип
  FROM Ограждения left JOIN ОгрДок on Ограждения.КодОгр = ОгрДок.КодОгр left join Протокол on Ограждения.КодОгр = Протокол.КодОгр left join Испытания on Протокол.НПр = Испытания.НПр left join Испытания_Параметры on Испытания_Параметры.НИсп = Испытания.НИсп

	WHERE 
	(Ограждения.высота IS NULL or (Ограждения.высота >= 0 and Ограждения.высота <= 1.27))
      and ( (Испытания_Параметры.Наименование = 'Динамический прогиб' and (Испытания_Параметры.фактЗнач >= 0 and Испытания_Параметры.фактЗнач <= 1.99))
		or (Ограждения.дин_прогиб >= 0 and Ограждения.дин_прогиб <= 1.99) )
      and ( (Испытания_Параметры.Наименование = 'Рабочая ширина') and (Испытания_Параметры.фактЗнач >= 0 and Испытания_Параметры.фактЗнач <= 2.04)
		or (Ограждения.раб_ширина >= 0 and Ограждения.раб_ширина <= 2.04) )
      and ( ((Ограждения.шаг_стоек >= 0 and Ограждения.шаг_стоек <= 4) or Ограждения.шаг_стоек IS NULL) 
		or Испытания_Параметры.Наименование = 'Шаг стоек' and (Испытания_Параметры.фактЗнач >= 0 and Испытания_Параметры.фактЗнач <= 4) )
	  --and Ограждения.класс = 'боковое' and Ограждения.высота IS not NULL

	--and (Испытания_Параметры.Наименование = 'Индекс тяжести травм' and (Испытания_Параметры.фактЗнач >= 0.24 and Испытания_Параметры.фактЗнач <= 0.89))